<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>函数 | HaHack</title>
  <meta name="author" content="Joseph Pan">
  
  <meta name="description" content="本系列文章对应 Python 3 版本

函数以关键字def定义，其后紧跟函数名，由一对小括号闭合的形参，最后以冒号结束定义行，定义行下面的是函数体，它是一个语句块。
示例
123456789#!/usr/bin/python# Filename: function1.pydef sayHello(">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="函数"/>
  <meta property="og:site_name" content="HaHack"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/images/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="HaHack" type="application/atom+xml">
  
  <link rel="stylesheet" href="/dist/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/bootstrap-responsive.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/font-awesome.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/style.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/highlight.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/sidenav.min.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/dist/responsive.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/bubble.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/google-fonts.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/nprogress.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/dist/comment.min.css" media="screen" type="text/css">
  
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
  <!--[if lte IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

<!--  -->
<!--     <link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow|PT+Sans:400,400italic,700,700italic|Droid+Serif:400,400italic' rel='stylesheet' type='text/css'> -->
<!--     <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'> -->
<!--  -->
  
<script src="/dist/jquery-2.0.3.min.js"></script>


    <script src="/dist/videoGFW.min.js"></script>
	
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-41569408-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';

var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

	


    <link rel="stylesheet" href="/dist/highlight-default.min.css" media="screen" type="text/css">
    
    <script src="/dist/comment.min.js"></script>
    <script src="/dist/marked.min.js"></script>
    
    <script src="/dist/highlight.min.js"></script>
    <script src="/dist/timeago.min.js"></script>
	<script src="/dist/spin.min.js"></script>


</head>


<body data-spy="scroll" data-target=".toc">  
  <header id="header" class="inner"><div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
            <a data-pjax class="brand" href="/">HaHack</a>
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <div class="nav-collapse collapse">
            <ul class="nav">				
			    
				   <li><a data-pjax href="/archive" title="所有文章归档"><i class="fa fa-archive"></i>Archive</a></li>				   			    			
				   <li><a data-pjax href="/categories" title="所有文章分类"><i class="fa fa-folder"></i>Categories</a></li>				   			    			
				   <li><a data-pjax href="/tags" title="所有文章标签"><i class="fa fa-tags"></i>Tags</a></li>				   			    			
				
				<li class="divider-vertical"></li>
			   	<li><a data-pjax href="/wiki" title="我的笔记库"><i class="fa fa-tasks"></i>wiki</a></li>				   
				
            </ul>			
			<ul class="nav navright">
				<li class="dropdown works">
				<a data-pjax href="#" title="作品集" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-th-large"></i>Works <b class="caret"></b></a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="drop1">
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="http://github.com/wzpan/wukong-robot" title="wukong-robot 是一个简单、灵活、优雅的中文语音对话机器人。"><i class="fa fa-github"></i>wukong-robot</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="http://hahack.com/codes/dingdang-robot-intro/" title="叮当是一款可以工作在 Raspberry Pi 上的中文语音对话机器人/智能音箱项目。"><i class="fa fa-github"></i>dingdang-robot</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="http://www.hahack.com/codes/comment-js/" title="纯JS实现的静态站点评论系统，使用 Github/OSChina 作为 backend。"><i class="fa fa-github"></i>comment.js</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="http://hahack.com/codes/eulerian-video-magnification/" title="首个完整的 C++ 开源实现，能同时放大动作变化和颜色变化"><i class="fa fa-github"></i>QtEVM</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="https://github.com/wzpan/wzpan.github.io/wiki/hexo-series" title="为 Hexo 写的一系列主题/工具/插件"><i class="fa fa-github"></i>hexo-series</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="https://github.com/scnu/scnuthesis" title="符合华南师范大学硕士/博士学位论文格式要求的LaTeX模板。"><i class="fa fa-github"></i>SCNUThesis</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="https://github.com/wzpan/wzpan.github.io/wiki/slides" title="一些幻灯片作品"><i class="fa fa-github"></i>Slides</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" target="_blank" href="http://hahack.com/codes/fcevm/" title="硕士毕业论文"><i class="fa fa-github"></i>Dissertation</a></li>
				
                	        </ul>
				</li>
				<li class="dropdown">
				<a data-pjax href="#" title="订阅本站" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-rss"></i>Subscribe <b class="caret"></b></a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="drop2">
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" href="/atom.xml" title="使用 RSS 阅读器订阅 HaHack"><i class="fa fa-rss-square"></i>RSS</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" href="/wechat.html" title="订阅 HaHack 的公众平台"><i class="fa fa-qrcode"></i>WeChat</a></li>
				
				   <li role="presentation"><a role="menuitem" tabindex="-1" href="http://toutiao.io/u/147640" title=""><i class="fa fa-align-justify"></i>Toutiao</a></li>
				
                	        </ul>
				</li>
				
				<li><a data-pjax href="/about" title="关于我"><i class="fa fa-user"></i>About</a></li>				   				
   					  
            </ul>
            </div> <!-- nav-collapse collapse -->
        </div> <!-- container -->
     </div> <!-- navbar-inner -->
</div> <!-- navbar navbar-inverse -->
</header>
  <div class="container" id="container">
  	<div class="content">
    	 

	
		<div class="page-header">		
			<h1> 函数</h1>
		</div>    
	



<div class="row-fluid wiki">
	<!-- span -->
    
        <div class="span3 toc"></div>
        <div class="span9 note">
    

	

		<!-- content -->
		<p><div class="alert alert-warning"><i class="fa fa-bell"></i>  <p>本系列文章对应 Python 3 版本</p>
</div></p>
<p>函数以关键字<code>def</code>定义，其后紧跟函数名，由一对小括号闭合的形参，最后以冒号结束定义行，定义行下面的是函数体，它是一个语句块。</p>
<h4 id="示例">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: function1.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sayHello</span><span class="params">()</span>:</span></div><div class="line">    print(<span class="string">'Hello World!'</span>) <span class="comment"># 语句块也就是函数体</span></div><div class="line"></div><div class="line"><span class="comment"># 结束函数定义</span></div><div class="line">sayHello() <span class="comment"># 调用函数</span></div><div class="line">sayHello() <span class="comment"># 再次调用</span></div></pre></td></tr></table></figure></p>
<h4 id="输出">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ python function1.py</div><div class="line">Hello World!</div><div class="line">Hello World!</div></pre></td></tr></table></figure></p>
<h2 id="形参">形参</h2>
<p>形参在函数定义中的小括号内指定，并以逗号分隔。当我们调用函数时以同样的方式提供形参值。</p>
<h4 id="示例-v2">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_param.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">printMax</span><span class="params">(a, b)</span>:</span></div><div class="line">    <span class="keyword">if</span> a &gt; b:</div><div class="line">        print(a, <span class="string">'is maximum'</span>)</div><div class="line">    <span class="keyword">elif</span> a == b:</div><div class="line">        print(a, <span class="string">'is equal to'</span>, b)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        print(b, <span class="string">'is maximum'</span>)</div><div class="line"></div><div class="line">printMax(<span class="number">3</span>, <span class="number">4</span>) <span class="comment"># 直接提供字面值</span></div><div class="line"></div><div class="line">x = <span class="number">5</span></div><div class="line">y = <span class="number">7</span></div><div class="line"></div><div class="line">printMax(x, y) <span class="comment"># 以变量作为实参</span></div></pre></td></tr></table></figure></p>
<h4 id="输出-v2">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ python func_param.py</div><div class="line"><span class="number">4</span> is maximum</div><div class="line"><span class="number">7</span> is maximum</div></pre></td></tr></table></figure></p>
<h2 id="局部变量">局部变量</h2>
<p>在函数内声明的变量与在函数外的同名变量没有任何关系，即变量名对于函数是局部的。</p>
<p>这被称作变量的<strong>作用域</strong>，变量的作用域开始于它们所在块中定义它们的定义点处。</p>
<h4 id="示例-v3">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_local.py</span></div><div class="line"></div><div class="line">x = <span class="number">50</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x)</span>:</span></div><div class="line">    print(<span class="string">'x is'</span>, x)</div><div class="line">    x = <span class="number">2</span></div><div class="line">    print(<span class="string">'Changed local x to'</span>, x)</div><div class="line"></div><div class="line">func(x)</div><div class="line">print(<span class="string">'x is still'</span>, x)</div></pre></td></tr></table></figure></p>
<h4 id="输出-v3">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ python func_local.py</div><div class="line">x is <span class="number">50</span></div><div class="line">Changed local x to <span class="number">2</span></div><div class="line">x is still <span class="number">50</span></div></pre></td></tr></table></figure></p>
<h2 id="全局变量">全局变量</h2>
<p>如果你想要为一个定义在函数外的变量赋值，那么你就得告诉Python这个变量名不是局部的，而是 全局 的。我们使用global语句完成这一功能。没有global语句，是不可能为定义在函数外的变量赋值的。</p>
<p>你可以使用定义在函数外的变量的值（假设在函数内没有同名的变量）。然而，我并不鼓励你这样做，并且你应该尽量避免这样做，因为这使得程序的读者会不清楚这个变量是在哪里定义的。使用global语句可以清楚地表明变量是在外面的块定义的。</p>
<h4 id="示例-v4">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_global.py</span></div><div class="line"></div><div class="line">x = <span class="number">50</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">global</span> x <span class="comment"># 用global语句声明一个全局变量x</span></div><div class="line">    print(<span class="string">'x is'</span>, x)</div><div class="line">    x = <span class="number">2</span></div><div class="line">    print(<span class="string">'Changed global x to'</span>, x)</div><div class="line"></div><div class="line">func()</div><div class="line">print(<span class="string">'Value of x is'</span>, x)</div></pre></td></tr></table></figure></p>
<h4 id="输出-v4">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ python func_global.py</div><div class="line">x is <span class="number">50</span></div><div class="line">Changed global x to <span class="number">2</span></div><div class="line">Value of x is <span class="number">2</span></div></pre></td></tr></table></figure></p>
<h2 id="非局部变量">非局部变量</h2>
<p>我们已经看到如何存取局部和全局变量。还有另一类叫做 <strong>非局部</strong> 的作用域，它介于局部和全局之间。</p>
<p>当在函数内定义函数时你会注意到非局部作用域。</p>
<p>因为python中的一切只是可执行代码，所以你可以在任何地方定义函数。让我们看一个例子：</p>
<h4 id="示例-v5">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_nonlocal.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func_outer</span><span class="params">()</span>:</span></div><div class="line">    x = <span class="number">2</span></div><div class="line">    print(<span class="string">'x is'</span>, x)</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func_inner</span><span class="params">()</span>:</span></div><div class="line">        <span class="keyword">nonlocal</span> x</div><div class="line">        x = <span class="number">5</span></div><div class="line">    func_inner()</div><div class="line">    print(<span class="string">'Changed local x to'</span>, x)</div><div class="line"></div><div class="line">func_outer()</div></pre></td></tr></table></figure></p>
<h4 id="输出-v5">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ python func_nonlocal.py</div><div class="line">x is <span class="number">2</span></div><div class="line">Changed local x to <span class="number">5</span></div></pre></td></tr></table></figure></p>
<h4 id="说明">说明</h4>
<p>当我们处于<code>func_inner</code>函数中时，<code>func_outer</code>第一行定义的变量x既不是局部也不是全局变量。</p>
<p>这时通过<code>nonlocal x</code>我们声明这个<code>x</code>是非局部的，所以我们才能够存取它。</p>
<p>试着将<code>nonlocal x</code>改为<code>global x</code>观察这两种用法有什么不同。</p>
<h2 id="默认实参值">默认实参值</h2>
<p>对于一些函数，你可能希望它们的形参是可选的，并当用户没有为这些形参提供值的时候给它们一个默认值。</p>
<p>这需要借助默认实参值。默认实参值在函数定义时通过为形参名赋一个默认值实现。</p>
<p><div class="alert alert-warning"><i class="fa fa-bell"></i>  <p>默认实参值应该是一个常量，更确切的应该是一个不可变类型</p>
</div></p>
<h4 id="示例-v6">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_default.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">say</span><span class="params">(message, times = <span class="number">1</span>)</span>:</span></div><div class="line">    print(message * times)</div><div class="line"></div><div class="line">say(<span class="string">'Hello'</span>)</div><div class="line">say(<span class="string">'World'</span>, <span class="number">5</span>)</div></pre></td></tr></table></figure></p>
<h4 id="输出-v6">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ python func_default.py</div><div class="line">hello</div><div class="line">worldworldworldworldworld</div></pre></td></tr></table></figure></p>
<h4 id="重点">重点</h4>
<p><strong>只有在实参列表靠后的参数才能拥有默认实参值</strong> ，即你不能先声明带有默认实参值的形参再声明不带有默认实参值的参数。</p>
<p>这是因为实参值是根据形参的位置赋给形参的，例如：<code>def func(a, b = 5)</code>合法，但<code>def func(a = 5, b)</code>就非法了。</p>
<h2 id="关键实参">关键实参</h2>
<p>如果你有一些函数拥有许多参数，但你只想使用其中的几个，这时你可以通过形参名为其赋值。</p>
<p>这被称做关键实参——使用形参名(关键字)为函数指定实参而不是我们一直使用的通过位置指定实参。</p>
<p>这样做有两个优点，首先函数用起来更简单，因为我们不用操心实参的顺序了。</p>
<p>其次，可以只为我们感兴趣的形参赋值，如果其它参数带有默认实参值的话。</p>
<h4 id="示例-v7">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_key.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b=<span class="number">5</span>, c=<span class="number">10</span>)</span>:</span></div><div class="line">    print(<span class="string">'a is'</span>, a, <span class="string">'and b is'</span>, b, <span class="string">'and c is'</span>, c)</div><div class="line"></div><div class="line">func(<span class="number">3</span>, <span class="number">7</span>)</div><div class="line">func(<span class="number">25</span>, c=<span class="number">24</span>)</div><div class="line">func(c=<span class="number">50</span>, a=<span class="number">100</span>)</div></pre></td></tr></table></figure></p>
<h4 id="输出-v7">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ python func_key.py</div><div class="line">a is <span class="number">3</span> and b is <span class="number">7</span> and c is <span class="number">10</span></div><div class="line">a is <span class="number">25</span> and b is <span class="number">5</span> and c is <span class="number">24</span></div><div class="line">a is <span class="number">100</span> and b is <span class="number">5</span> and c is <span class="number">50</span></div></pre></td></tr></table></figure></p>
<h2 id="可变参数-varargs">可变参数(VarArgs)</h2>
<p>有时你可能希望编写一个可以接受任意多个形参的函数，使用星号可以帮你做到。</p>
<h4 id="示例-v8">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: total.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">total</span><span class="params">(initial=<span class="number">5</span>, *numbers, **keywords)</span>:</span></div><div class="line">    count = initial</div><div class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers:</div><div class="line">        count += number</div><div class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> keywords:</div><div class="line">        count += keywords[key]</div><div class="line">    <span class="keyword">return</span> count</div><div class="line"></div><div class="line">print(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, vegetables=<span class="number">50</span>, fruits=<span class="number">100</span>))</div></pre></td></tr></table></figure></p>
<h4 id="输出-v8">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ python total.py</div><div class="line"><span class="number">166</span></div></pre></td></tr></table></figure></p>
<h4 id="说明-v2">说明</h4>
<p>星号-列表：当我们以 <strong>星号</strong> 声明一个形参比如<code>*param</code>，那么这个参数点之后的所有实参会被收集成一个<strong>列表</strong>。</p>
<p>双星号-关键字实参字典：与之类似如果我们以 <strong>双星号</strong> 声明一个形参，它会被收集成一个<strong>关键字实参字典</strong>。</p>
<h2 id="只能以关键字赋值的形参">只能以关键字赋值的形参##</h2>
<p>如果我们希望某些关键字形参只能通过关键字实参得到而不是按照实参的位置得到，可以将其声明在星号形参后面。称为Keyword-only实参：</p>
<h4 id="示例-v9">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: keyword_only.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">total</span><span class="params">(initial=<span class="number">5</span>, *numbers, vegetables)</span>:</span></div><div class="line">    count = initial</div><div class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers:</div><div class="line">        count += number</div><div class="line">    count += vegetables</div><div class="line">    <span class="keyword">return</span> count</div><div class="line"></div><div class="line">print(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, vegetables=<span class="number">50</span>))</div><div class="line">print(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)) <span class="comment"># 引发错误，因为我们没有为vegetables提供默认实参值</span></div></pre></td></tr></table></figure></p>
<h4 id="输出-v9">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ python keyword_only.py</div><div class="line"><span class="number">66</span></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"test.py"</span>, line <span class="number">12</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">print(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</div><div class="line">TypeError: total() needs keyword-only argument vegetables</div></pre></td></tr></table></figure></p>
<h4 id="说明-v3">说明</h4>
<p>在星号形参后面声明的形参导致它成为keyword-only实参。</p>
<p>如果没有为这些实参提供一个默认值，那么必须在调用函数时以关键字实参为其赋值，否则将引发错误。</p>
<p>如果你只需要keyword-only实参但不需要星号实参，那么可以简单的省略星号实参的实参名。</p>
<p>例如<code>def total(initial=5, *, vegetables)</code>。</p>
<h2 id="return语句">return语句</h2>
<p><code>return</code>用于从函数返回，即跳出函数。也可以利用<code>return</code>语句从函数返回一个值。</p>
<p>注意一个不带有返回值的<code>return</code>语句相当于返回<code>return None</code>。</p>
<p><code>None</code>是python的一个特殊类型，代表空。例如如果一个变量的值为<code>None</code>则代表它不存在值。每个函数的末尾都隐含的包含一个<code>return None</code>语句除非你编写了自己的<code>return</code>语句。</p>
<h4 id="示例-v10">示例</h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_return.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">maximum</span><span class="params">(x, y)</span>:</span></div><div class="line">    <span class="keyword">if</span> x &gt; y:</div><div class="line">        <span class="keyword">return</span> x</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">return</span> y</div><div class="line">print(maximum(<span class="number">2</span>, <span class="number">3</span>))</div></pre></td></tr></table></figure></p>
<h4 id="输出-v10">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ python func_return.py</div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure></p>
<h2 id="文档字符串">文档字符串</h2>
<p>文档字符串（doc string）是一个你应该利用的重要的工具，因为它帮助你更好的注释程序使得程序更易于理解。</p>
<p>更神奇的是你甚至可以在程序运行时取得文档字符串！</p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># Filename: func_doc.py</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">printMax</span><span class="params">(x, y)</span>:</span></div><div class="line">    <span class="string">'''Prints the maximum of two numbers.</span></div><div class="line">    </div><div class="line">    The two values must be integers.'''</div><div class="line">    x = int(x) <span class="comment"># convert to integers, if possible</span></div><div class="line">    y = int(y)</div><div class="line">    <span class="keyword">if</span> x &gt; y:</div><div class="line">        print(x, <span class="string">'is maximum'</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        print(y, <span class="string">'is maximum'</span>)</div><div class="line"></div><div class="line">printMax(<span class="number">3</span>, <span class="number">5</span>)</div><div class="line">print(printMax.__doc__)</div></pre></td></tr></table></figure></p>
<h4 id="输出-v11">输出</h4>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ python func_doc.py</div><div class="line"><span class="number">5</span> is maximum</div><div class="line">Prints the maximum of two numbers.</div><div class="line">        The two values must be integers.</div></pre></td></tr></table></figure></p>
<h4 id="说明-v4">说明</h4>
<p>一个函数的第一个逻辑行的字符串将成为这个函数的文档字符串。注意类和模块同样拥有文档字符串，在后面相应的章节我们会学到它们。</p>
<p>根据惯例:</p>
<ol>
<li>文档字符串是一个多行字符串，其中第一行以大写字母开头，并以句号结尾。</li>
<li>接下来的第二行为空行，从第三行开始为详细的描述。</li>
</ol>
<p>我强烈建议你在你的正规函数中遵循这个编写文档字符串的惯例。</p>
<p>我们可以通过使用函数的<code>__doc__</code>属性(注意双下划线)存取printMax的文档字符串。如果你在python使用过<code>help()</code>，其实你已经看到过文档字符串的应用了！help()只是取出函数的<code>__doc__</code>属性，然后以一种整洁的方式显示给你。</p>
<p><div class="alert alert-success"><i class="fa fa-lightbulb-o"></i>  <p><a href="http://www.python.org/peps/pep-0257.html" target="_blank" rel="external">PEP257</a> 定义了文档字符串的规范。</p>
</div></p>


		<!-- pagination -->
		<div>
		<center>
		<div class="pagination">
<ul class="pagination">
	
	
	
		
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
			
			
			
	    
	
	    
	
	    
	
	    
			
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
			
			
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
			
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
			
			
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
			
		
	
	    
			
			
			
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
			
		
	
	    
	
	    
			
		
	
	    
	
	    
			
		
	
	    
			
		
	
	    
	
	    
	
	    
	
	    
	
	    
	
	
		<li class="prev"><a data-pjax href="/wiki/python3-debug.html" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
	
	<li><a data-pjax href="/wiki"><i class="fa fa-tasks"></i>Wiki</a></li>
	
		<li class="next"><a data-pjax href="/wiki/python3-unittest.html" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

	    </center>
		</div>
				
		<!-- toc -->
		
   	<script type="text/javascript">
		jQuery(document).ready(function() {
		
 		   generateWikiTOC('.note', '.toc', 2, 2 );
		
		});
	</script>



				
		<!-- comment -->
		
<section id="comment">
    <h2 class="title">Comments</h2>
	
	 <div id="comment-thread"></div>
	 <div id="loading-spin"></div>
	 <script type="text/javascript">
	   getComments({
		       type: "github",
	           user: "wzpan",
	           repo: "wzpan.github.io",
			   client_id: "1eb35434de75c06a513f",
			   client_secret: "6e4193f8ecd619cdfac2b1aa16b3663fe18d2e90",
			   no_comment: "暂时还没有留言呢，点击下面的按钮去留言吧！",
			   go_to_comment: "去留言",
			   btn_class: "btn btn-primary",
			   no_issue: "no_issue",
			   issue_title: "函数",
			   issue_id: "undefined",
			   comments_target: "#comment-thread" ? "#comment-thread" : "#comment-thread",
			   loading_target: "undefined"
			   });
	 </script>
	
</section>


		

	</div> <!-- span9/span12 -->
</div><!-- row-fluid post-full -->

	</div>	
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 Joseph Pan
  
    <small>
     <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh"><img title="知识共享许可协议" style="border-width: 0px; vertical-align: middle; display: inline; " src="/images/license.png"></a>
    </small>
</p>
 </footer>
</div> <!-- container-narrow -->


<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/dist/jquery.imagesloaded.min.js"></script>


<script src="/dist/gallery.min.js"></script>
<script src="/dist/bootstrap.min.js"></script>
<script src="/dist/jquery.tableofcontents.min.js"></script>
<script src="/dist/tocgenerator.min.js"></script>
<script src="/dist/require.min.js"></script>
<script src="/dist/main.min.js"></script>



<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox({
    helpers : { 
        title : { type : 'inside' }
    },
    afterLoad : function() {
        this.title = (this.title ? '' + this.title + '<br />' : '') + 'Image ' + (this.index + 1) + ' of ' + this.group.length;
    }
  });
})(jQuery);
</script>




<!-- syntax highlighting -->

  <script>
  marked.setOptions({
    highlight: function (code, lang) {
        return hljs.highlightAuto(code).value;
    }
  });
  function Highlighting(){
    var markdowns = document.getElementsByClassName('markdown');
    for(var i=0;i<markdowns.length;i++){
        if(markdowns[i].innerHTML) markdowns[i].innerHTML =marked(markdowns[i].innerHTML);
    }
  }
  window.addEventListener('DOMContentLoaded', Highlighting, false);
  window.addEventListener('load', Highlighting, false);
  </script>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','ney3Rb77vMaWT2KUKFyt');
</script>



</body>
</html>
